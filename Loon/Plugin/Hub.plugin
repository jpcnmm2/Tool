#!name =解析转换
#!desc=快速添加通用链接为Loon插件,依赖Script.hub;  \n⓵ 模块依赖于https://script.hub环境运行,需提前配置\n⓶ 模块限Loon使用,Surge或Stash需自行修改格式使用
#!author = 丫丫
#!homepage = https://github.com/jpcnmm2/Tool/tree/master/Loon/Plugin
#!icon = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Loop.png
#!tag = 增强
#!input = LOON_SUFFIX
#!input = SURGE_SUFFIX
#!input = STASH_SUFFIX
#!select = JQ_ENABLED,true,false

[rewrite]
# Loon 转换
^https:\/\/((?:[a-zA-Z0-9.-]*(?:git|github|gitlab|gitee|gitcode)[a-zA-Z0-9.-]*))\/(.*)\/(.*\.(?:js|conf|snippet|plugin|list|yaml|lpx|sgmodule)).*ln$ 302 https://www.nsloon.com/openloon/import?plugin=http://script.hub/file/_start_/https://$1/$3$4/_end_/$3.sgmodule?type=loon-plugin&target=loon-plugin&del=true&jqEnabled=true
# Surge 转换
^https:\/\/((?:[a-zA-Z0-9.-]*(?:git|github|gitlab|gitee|gitcode)[a-zA-Z0-9.-]*))\/(.*)\/(.*\.(?:js|conf|snippet|plugin|list|yaml|lpx|sgmodule)).*($persistentStore.read(SURGE_SUFFIX))$ 302 http://script.hub/file/_start_/https://$1/$2/$3/_end_/$3.sgmodule?type=surge-module&target=surge-module&del=true&jqEnabled=$persistentStore.read(JQ_ENABLED)
# Stash 转换
^https:\/\/((?:[a-zA-Z0-9.-]*(?:git|github|gitlab|gitee|gitcode)[a-zA-Z0-9.-]*))\/(.*)\/(.*\.(?:js|conf|snippet|plugin|list|yaml|lpx|sgmodule)).*($persistentStore.read(STASH_SUFFIX))$ 302 http://script.hub/file/_start_/https://$1/$2/$3/_end_/$3.sgmodule?type=qx-rewrite&target=stash-stoverride&del=true&jqEnabled=$persistentStore.read(JQ_ENABLED)


[mitm]
hostname = raw.githubusercontent.com, gist.github.com, gist.githubusercontent.com, gitlab.com, gitee.com, gitcode.net, github.com
