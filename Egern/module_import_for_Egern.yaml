name: 模块一键导入
description: 1.自动将surge.qingr.moe 网站中的Surge模块导入链接替换为 Egern 导入链接，实现点击一键安装。网址https://surge.qingr.moe/\n2.支持可莉插件中心的插件一键导入给Egern使用;; 使用前请先添加ScriptHub模块. 插件中心网址 https://hub.kelee.one\n3.支持在sooyaaabo的Egern库直接点击模块raw链接给Egern安装使用
author: jpcnmm、可莉
body_rewrites:
- response_regex:
    match: ^https:\/\/surge\.qingr\.moe
    find: surge:\/\/\/install-module\?url=([^\s"']+)
    replace: egern:///modules/new?url=$1
- response_regex:
    match: https://kelee\.one/Tool/Loon/Lpx_list\.json
    find: loon://import\?plugin=(https://kelee.one/Tool/Loon/Lpx/(.+)\.lpx)
    replace: egern:///modules/new?name=$2&url=http://script.hub/file/_start_/$1/_end_/$2.sgmodule%3Ftype%3Dloon-plugin%26target%3Dsurge-module%26del%3Dtrue%26jqEnabled%3Dtrue%26pm%3D.%26sni%3D.
url_rewrites:
- match: ^https:\/\/github\.com\/sooyaaabo\/Egern\/raw\/(.*)\/(.*\.(?:module))
  location: egern:///modules/new?url=https://raw.githubusercontent.com/sooyaaabo/Egern/$1/$2
  status_code: 307
mitm:
  hostnames:
    includes:
    - surge.qingr.moe
    - hub.kelee.one
    - pluginhub.kelee.one
    - github.com
